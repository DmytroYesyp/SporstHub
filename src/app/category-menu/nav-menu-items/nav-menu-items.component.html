<div class="header">

  <a href="/main" class="logo">
    <div class="logo_txt">Sports Hub</div>
  </a>
  <div class="line"></div>

</div>

<div class="switch_view">
  <a href="/main">
    <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M17 34C26.3888 34 34 26.3888 34 17C34 7.61116 26.3888 0 17 0C7.61116 0 0 7.61116 0 17C0 26.3888 7.61116 34 17 34Z" fill="#D72130"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M11.7303 10.0337C11.9229 10.1081 12.05 10.2935 12.05 10.5V12.43L20.4599 12.43V13.43L11.55 13.43C11.2738 13.43 11.05 13.2061 11.05 12.93V11.7933L8.17573 14.955L11.05 18.1166V16.98C11.05 16.7038 11.2738 16.48 11.55 16.48L20.4599 16.48V17.48L12.05 17.48L12.05 19.4099C12.05 19.6165 11.9229 19.8018 11.7303 19.8763C11.5376 19.9508 11.3189 19.8991 11.18 19.7463L7.13003 15.2913C6.95666 15.1006 6.95666 14.8094 7.13003 14.6186L11.18 10.1637C11.3189 10.0108 11.5376 9.95917 11.7303 10.0337Z" fill="white"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M22.3049 23.9263C22.1122 23.8518 21.9852 23.6665 21.9852 23.4599L21.9852 21.53L13.5753 21.53L13.5753 20.53L22.4852 20.53C22.7613 20.53 22.9852 20.7538 22.9852 21.03L22.9852 22.1666L25.8594 19.005L22.9852 15.8433L22.9852 16.98C22.9852 17.2561 22.7613 17.48 22.4852 17.48L13.5753 17.48L13.5753 16.48L21.9852 16.48L21.9852 14.55C21.9852 14.3434 22.1122 14.1581 22.3049 14.0837C22.4976 14.0092 22.7162 14.0608 22.8552 14.2137L26.9051 18.6686C27.0785 18.8594 27.0785 19.1506 26.9051 19.3413L22.8552 23.7963C22.7162 23.9491 22.4976 24.0008 22.3049 23.9263Z" fill="white"/>
    </svg>
  </a>
</div>

<div class="right_header">
  <app-header-user-profile></app-header-user-profile>
  <app-lang></app-lang>
</div>

<div class="under_head">
  <div class="under_one">
    <div class="under_home">Information Architecture</div>
  </div>
  <hr>
  <div class="under_two">
    <a href="/main">Home</a>
    <a class="txt1" href="">
      <main_kinds></main_kinds>
    </a>
    <a href="/admin_video">Video</a>
    <a href="/admin_lifestyle">Lifestyle</a>
    <a href="/admin_dealbook">Dealbook</a>
  </div>
</div>

<div class="wrapper" >

  <div class="sidebar">
    <a title="Surveys" href="/surveys"><i class="fa fa-comment-o" aria-hidden="true"
                                          style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Categories" href="/admin_categories"><i class="fa fa-list-alt" aria-hidden="true"
                                                      style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a href="/admin_page/set-lang"><i class="fa fa-globe" aria-hidden="true" style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Footer" href="/footer"><i class="fa fa-edit" aria-hidden="true"
                                        style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Social Networks" href="/social-networks"><i class="fa fa-mail-forward" aria-hidden="true"
                                                          style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Users" href="/users"><i class="fa fa-users" aria-hidden="true" style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="IA" href="/info"><i class="fa fa-info" aria-hidden="true" style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Teams" href="/admin_team-page"><i class="fa fa-flag" aria-hidden="true"
                                                style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="News Partners" href="/news-partners"><i class="fa fa-briefcase" aria-hidden="true"
                                                      style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Advertising" href="/advertising"><i class="fa fa-dollar" aria-hidden="true"
                                                  style="font-size: 2vw;color: #b2b2b2;"></i></a>
    <a title="Share buttons menu" href="admin_page/social-login"><i class="fa fa-share-alt" aria-hidden="true"
                                                                    style="font-size: 2vw;color: #b2b2b2;"></i></a>

  </div>

<div class="container">
  <div class="section">
    <button class="button button_category" (click)="openModal()">+ Add category</button>
    <div *ngFor="let category of sportKinds " >
      <button mat-button  class="button button_name_category {{category === activeSportKind ? 'active-category' : null}}"
              (click)="clickCategory(category)">{{category.name}}
        <mat-icon class="mat-icon-points" [matMenuTriggerFor]="menu">more_vert</mat-icon></button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="deleteCategory(category)">Delete</button>
        <button mat-menu-item (click)="openModalEditCat(category)">Edit</button>
      </mat-menu>
    </div>
  </div>
  <div class="section">
    <div *ngIf="activeSportKind">
      <button class="button button_subcategory" (click)="openModalSub()">+ Add subcategory</button>
      <div *ngFor="let subCategory of activeSportKind.leagues">
        <button mat-button
                class="button button_name_subcategory {{subCategory === activeLeague ? 'active-subcategory' : null}}"
                (click)="clickSubCategory(subCategory)">{{subCategory.name}}
          <mat-icon class="mat-icon-points" [matMenuTriggerFor]="menu">more_vert</mat-icon></button>
        <mat-menu #menu="matMenu">
          <button *ngIf="sportKinds.length > 1" mat-menu-item [matMenuTriggerFor]="moveTo">Move to</button>
          <button mat-menu-item (click)="deleteSubCategory(subCategory)">Delete</button>
          <button mat-menu-item (click)="openModalEditSubCat(subCategory)">Edit</button>
        </mat-menu>
        <mat-menu #moveTo="matMenu">
          <div *ngFor="let category of sportKinds">
            <button *ngIf="category !== activeSportKind" mat-menu-item
                    (click)="moveLeagueToSportKind(subCategory, category)">{{category.name}}</button>
          </div>
        </mat-menu>
      </div>
    </div>
  </div>
  <div class="section">
    <div *ngIf="activeLeague">
      <button class="button button_team" (click)="openModalTeam()">+ Add team</button>
      <div *ngFor="let team of activeLeague.teams">
        <button mat-button
                class="button button_name_team {{team === activeTeam ? 'active-team' : null}}"
                (click)="clickTeam(team)">{{team.name}}
          <mat-icon class="mat-icon-points" [matMenuTriggerFor]="menu">more_vert</mat-icon></button>
        <mat-menu #menu="matMenu">
          <button *ngIf="sportKinds.length > 1" mat-menu-item [matMenuTriggerFor]="moveTo">Move to</button>
          <button mat-menu-item (click)="deleteTeam(team)">Delete</button>
          <button mat-menu-item (click)="openModalEditTeam(team)">Edit</button>
        </mat-menu>
        <mat-menu #moveTo="matMenu">
          <div *ngFor="let category of sportKinds">
            <div *ngIf="category.leagues.length; then existSubCategoryBlock else noSubCategoryBlock"></div>
            <ng-template #existSubCategoryBlock>
              <button mat-menu-item [matMenuTriggerFor]="subcat">{{category.name}}</button>
              <mat-menu #subcat="matMenu">
                <div *ngFor="let subCategory of category.leagues">
                  <button *ngIf="subCategory !== activeLeague" mat-menu-item
                          (click)="moveTeamToLeague(team, subCategory)">{{subCategory.name}}</button>
                </div>
              </mat-menu>
            </ng-template>
            <ng-template #noSubCategoryBlock>
              <button mat-menu-item>{{category.name}}</button>
            </ng-template>
          </div>
        </mat-menu>
      </div>
    </div>
  </div>
</div>
